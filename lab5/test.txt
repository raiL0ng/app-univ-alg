алгоритм 1

a b a b
a b a b
a b c d
a b c d

a b c d
b d a c
c a d b
d a b c